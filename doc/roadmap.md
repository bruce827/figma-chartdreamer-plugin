å¥½çš„ï¼Œæˆ‘ä»¬æ­£å¼é”å®š **React + Vite** ä½œä¸ºæŠ€æœ¯æ ˆæ ¸å¿ƒï¼è¿™ä¼šè®©æˆ‘ä»¬çš„å¼€å‘ä½“éªŒå˜å¾—éå¸¸æµç•…ã€‚

ç°åœ¨ï¼Œæˆ‘å°†ä¸ºä½ é‡èº«å®šåˆ¶ä¸€ä¸ªåŸºäºè¿™å¥—æŠ€æœ¯æ ˆçš„ã€æ›´è¯¦ç»†ã€æ›´å…·æ“ä½œæ€§çš„å¼€å‘è·¯å¾„å¤§çº²ã€‚ä½ å¯ä»¥ç›´æ¥æŠŠå®ƒå¤åˆ¶åˆ°ä½ GitHubä»“åº“çš„ `README.md` æˆ– `PROJECT.md` æ–‡ä»¶ä¸­ï¼Œä½œä¸ºä½ çš„å¼€å‘æ¸…å•ã€‚

---

### **é¡¹ç›®ï¼šChartDreamer (åŸºäºReact + Vite)**
**GitHubä»“åº“ï¼š`figma-chartdreamer-plugin`**

---

### **ç¬¬ä¸€é˜¶æ®µï¼šé¡¹ç›®å¯èˆª (Phase 1: Project Ignition)**

**ç›®æ ‡ï¼šå»ºç«‹ä¸€ä¸ªåšå®ã€ç°ä»£åŒ–çš„Reactå¼€å‘ç¯å¢ƒï¼Œå¹¶æˆåŠŸåœ¨Figmaä¸­è¿è¡Œä½ çš„ç¬¬ä¸€ä¸ªç»„ä»¶ã€‚**

*   **1.1. GitHub ä»“åº“åˆå§‹åŒ– (GitHub Repo Init)**
    *   [x] åœ¨GitHubä¸Šåˆ›å»º `figma-chartdreamer-plugin` å…¬å¼€ä»“åº“ã€‚
    *   [x] æ·»åŠ  `README.md`, `.gitignore` (Nodeæ¨¡æ¿), å’Œ `MIT` è®¸å¯è¯ã€‚

*   **1.2. **å…³é”®æ­¥éª¤**: ä½¿ç”¨Viteæ¨¡æ¿åˆå§‹åŒ–é¡¹ç›® (Project Init with Vite)**
    *   [x] **æ‰§è¡Œå»ºè®®**: åœ¨GitHubä¸Šæœç´¢ `figma plugin react vite template`ï¼Œæ‰¾åˆ°ä¸€ä¸ªé«˜æ˜Ÿ(star)ä¸”è¿‘æœŸç»´æŠ¤çš„æ¨¡æ¿ã€‚
    *   [x] æŒ‰ç…§æ¨¡æ¿æŒ‡å—å…‹éš†å¹¶åˆå§‹åŒ–é¡¹ç›®ã€‚
        ```bash
        # ç¤ºä¾‹å‘½ä»¤
        git clone [æ¨¡æ¿ä»“åº“åœ°å€] figma-chartdreamer-plugin
        cd figma-chartdreamer-plugin
        npm install
        ```
    *   [x] è¿è¡Œ `npm run dev`ï¼Œç¡®ä¿Viteå¼€å‘æœåŠ¡å™¨èƒ½æ­£å¸¸å¯åŠ¨ã€‚

*   **1.3. é‡Œç¨‹ç¢‘ï¼šè·‘é€š "Hello React Component"**
    *   [x] åœ¨Figmaæ¡Œé¢å®¢æˆ·ç«¯ä¸­ï¼Œé€šè¿‡ `manifest.json` æ–‡ä»¶å¯¼å…¥ä½ æœ¬åœ°çš„å¼€å‘æ’ä»¶ã€‚
    *   [x] ä¿®æ”¹æ¨¡æ¿ä¸­çš„ `App.tsx` (æˆ–ç±»ä¼¼å…¥å£ç»„ä»¶)ï¼Œæ·»åŠ ä¸€ä¸ªæŒ‰é’®ã€‚
    *   [x] **å…³é”®ç‚¹**: ä¸ºæŒ‰é’®æ·»åŠ  `onClick` äº‹ä»¶å¤„ç†å™¨ã€‚åœ¨è¿™ä¸ªå¤„ç†å™¨ä¸­ï¼Œè°ƒç”¨ `parent.postMessage({ pluginMessage: { type: 'notify', message: 'React component is running!' } }, '*')`ã€‚
    *   [x] åœ¨ `code.ts` ä¸­ï¼Œç¡®ä¿ `figma.ui.onmessage` é€»è¾‘èƒ½æ¥æ”¶åˆ°è¿™ä¸ªæ¶ˆæ¯å¹¶è°ƒç”¨ `figma.notify()`ã€‚
    *   **éªŒæ”¶æ ‡å‡†**: åœ¨Figmaä¸­ç‚¹å‡»æ’ä»¶UIé‡Œçš„æŒ‰é’®ï¼ŒFigmaå³ä¸‹è§’æˆåŠŸå¼¹å‡ºé€šçŸ¥ã€‚

---

### **ç¬¬äºŒé˜¶æ®µï¼šMVPæ ¸å¿ƒåŠŸèƒ½å®ç° (Phase 2: MVP Core Feature Implementation)**

**ç›®æ ‡ï¼šåˆ©ç”¨Reactçš„ç»„ä»¶åŒ–å’ŒçŠ¶æ€ç®¡ç†ï¼Œæ„å»ºæ¡‘åŸºå›¾ç”Ÿæˆå™¨çš„æ ¸å¿ƒåŠŸèƒ½ã€‚**

*   **2.1. æ„å»ºUIç»„ä»¶ (Build UI Components in React)**
    *   [ ] **çŠ¶æ€ç®¡ç†**: åœ¨ `App.tsx` ä¸­ï¼Œä½¿ç”¨ `useState` æ¥ç®¡ç†ç”¨æˆ·è¾“å…¥å’Œé…ç½®ã€‚
        ```javascript
        const [jsonInput, setJsonInput] = useState('');
        const [nodeColor, setNodeColor] = useState('#A1A1AA');
        const [linkColor, setLinkColor] = useState('#E5E7EB');
        ```
    *   [ ] **è¾“å…¥ç»„ä»¶**: åˆ›å»ºä¸€ä¸ª `JsonInput` ç»„ä»¶ï¼Œå…¶å†…éƒ¨åŒ…å«ä¸€ä¸ª `<textarea>`ï¼Œå®ƒçš„å€¼å’Œ `onChange` äº‹ä»¶ç»‘å®šåˆ° `jsonInput` stateã€‚
    *   [ ] **é…ç½®ç»„ä»¶**: åˆ›å»º `ColorPicker` ç»„ä»¶ï¼Œç”¨äºä¿®æ”¹ `nodeColor` å’Œ `linkColor` stateã€‚
    *   [ ] **åŠ¨ä½œç»„ä»¶**: åˆ›å»º `GenerateButton` ç»„ä»¶ï¼Œå®ƒå°†åœ¨ `onClick` æ—¶è§¦å‘ç”Ÿæˆé€»è¾‘ã€‚

*   **2.2. è¿æ¥React UIä¸Figmaæ ¸å¿ƒ (Bridge React UI to Figma Core)**
    *   [ ] åœ¨ `GenerateButton` ç»„ä»¶çš„ `onClick` äº‹ä»¶å¤„ç†å™¨ä¸­ï¼Œå°†æ‰€æœ‰çŠ¶æ€ï¼ˆ`jsonInput`, `nodeColor`ç­‰ï¼‰æ‰“åŒ…æˆä¸€ä¸ªå¯¹è±¡ã€‚
    *   [ ] é€šè¿‡ `parent.postMessage` å°†è¿™ä¸ªå¯¹è±¡å‘é€åˆ° `code.ts`ã€‚
        ```javascript
        // åœ¨ GenerateButton.tsx çš„ onClick æ–¹æ³•ä¸­
        parent.postMessage({
          pluginMessage: {
            type: 'generate-sankey',
            data: jsonInput,
            options: { nodeColor, linkColor }
          }
        }, '*');
        ```

*   **2.3. é›†æˆD3è®¡ç®—å¼•æ“ (Integrate D3 Engine)**
    *   [ ] åœ¨ `code.ts` ä¸­ï¼Œ`npm install d3-sankey @types/d3-sankey`ã€‚
    *   [ ] åœ¨ `figma.ui.onmessage` çš„ `generate-sankey` åˆ†æ”¯ä¸­ï¼Œè°ƒç”¨ `d3-sankey` åº“ï¼Œä¼ å…¥UIå‘é€è¿‡æ¥çš„æ•°æ®ï¼Œå®Œæˆå¸ƒå±€è®¡ç®—ã€‚
    *   [ ] **è°ƒè¯•æŠ€å·§**: æ­¤æ—¶ï¼Œå…ˆç”¨ `console.log` æ‰“å°å‡ºD3è®¡ç®—å‡ºçš„ `nodes` å’Œ `links` æ•°ç»„ï¼Œç¡®ä¿æ•°æ®ç»“æ„æ­£ç¡®ã€‚

*   **2.4. æ¸²æŸ“å¼•æ“ï¼šä»æ•°æ®åˆ°çŸ¢é‡å›¾å½¢ (The Render Engine)**
    *   [ ] åœ¨ `code.ts` ä¸­ï¼Œåˆ›å»º `drawSankey` å‡½æ•°ï¼Œæ¥æ”¶D3çš„è®¡ç®—ç»“æœå’Œé¢œè‰²é…ç½®ã€‚
    *   [ ] **å…³é”®å®ç°**:
        *   éå† `nodes`ï¼Œä½¿ç”¨ `figma.createRectangle()` ç»˜åˆ¶èŠ‚ç‚¹ã€‚
        *   éå† `links`ï¼Œä½¿ç”¨ `figma.createVector()` ç»˜åˆ¶é“¾æ¥è·¯å¾„ã€‚
        *   å¼‚æ­¥åŠ è½½å­—ä½“åï¼Œéå† `nodes`ï¼Œä½¿ç”¨ `figma.createText()` æ·»åŠ æ ‡ç­¾ã€‚
        *   æœ€åï¼Œå°†æ‰€æœ‰å›¾å±‚ç”¨ `figma.group()` ç¼–ç»„ã€‚

---

### **ç¬¬ä¸‰é˜¶æ®µï¼šæ‰“ç£¨ä¸äº¤äº’ä¼˜åŒ– (Phase 3: Polish & Interactive Enhancements)**

**ç›®æ ‡ï¼šåˆ©ç”¨Reactçš„èƒ½åŠ›ï¼Œè®©æ’ä»¶å˜å¾—æ™ºèƒ½ã€å¥å£®ä¸”å¥½ç”¨ã€‚**

*   **3.1. æ™ºèƒ½é”™è¯¯å¤„ç† (Smart Error Handling)**
    *   [ ] åœ¨ `JsonInput` ç»„ä»¶ä¸­ï¼Œå½“ç”¨æˆ·åœæ­¢è¾“å…¥æ—¶ï¼Œç”¨ `try-catch` å°è¯• `JSON.parse`ã€‚
    *   [ ] åˆ›å»ºä¸€ä¸ª `error` stateï¼Œ`const [error, setError] = useState(null);`ã€‚
    *   [ ] å¦‚æœè§£æå¤±è´¥ï¼Œåˆ™ `setError('JSONæ ¼å¼é”™è¯¯')`ï¼Œå¹¶åœ¨UIä¸Šæ¸²æŸ“ä¸€ä¸ªå‹å¥½çš„é”™è¯¯æç¤ºç»„ä»¶ã€‚å¦‚æœæˆåŠŸï¼Œåˆ™ `setError(null)`ã€‚

*   **3.2. æå‡ç”¨æˆ·ä½“éªŒ (UX Enhancements)**
    *   [ ] **åŠ è½½çŠ¶æ€**: åˆ›å»º `isLoading` stateã€‚åœ¨ç‚¹å‡»ç”ŸæˆæŒ‰é’®æ—¶è®¾ä¸º `true`ï¼Œ`code.ts` å®Œæˆç»˜å›¾åå¯ä»¥å›å‘ä¸€æ¡æ¶ˆæ¯å°†å…¶è®¾ä¸º `false`ã€‚å½“ `isLoading` ä¸º `true` æ—¶ï¼ŒæŒ‰é’®æ˜¾ç¤ºä¸ºç¦ç”¨çŠ¶æ€æˆ–å±•ç¤ºä¸€ä¸ªSpinnerã€‚
    *   [ ] **UIç¾åŒ–**: å¼•å…¥ä¸€ä¸ªUIåº“æ¥ç¾åŒ–ç•Œé¢ã€‚
        *   **é¦–é€‰**: `figma-plugin-ds-react`ï¼Œä¸Figmaé£æ ¼ç»Ÿä¸€ã€‚
        *   **å¤‡é€‰**: `shadcn/ui` + `Tailwind CSS`ï¼Œå¯ä»¥æ‰“é€ æ›´å®šåˆ¶åŒ–çš„ç°ä»£é£æ ¼ã€‚
    *   [ ] **ç”¨æˆ·è®¾ç½®æŒä¹…åŒ–**: ä½¿ç”¨ `useEffect` Hookï¼Œåœ¨ç»„ä»¶é¦–æ¬¡åŠ è½½æ—¶ä» `figma.clientStorage` è¯»å–å¹¶è®¾ç½®é¢œè‰²çŠ¶æ€ï¼›åœ¨é¢œè‰²çŠ¶æ€å˜åŒ–æ—¶ï¼Œå°†å…¶å­˜å…¥ `clientStorage`ã€‚

---

### **ç¬¬å››é˜¶æ®µï¼šå‘å¸ƒä¸å±•æœ› (Phase 4: Launch & Vision)**

**ç›®æ ‡ï¼šå‘å¸ƒä½ çš„ä½œå“ï¼Œå¹¶ä¸ºå®ƒçš„æœªæ¥å»ºç«‹æ¸…æ™°çš„è·¯çº¿å›¾ã€‚**

*   **4.1. é«˜è´¨é‡æ–‡æ¡£ (High-Quality Documentation)**
    *   [x] **æ›´æ–° `README.md`**: è¯¦ç»†ä»‹ç»æ’ä»¶åŠŸèƒ½ï¼Œå±•ç¤ºGIFåŠ¨å›¾ï¼Œå¹¶ç‰¹åˆ«æåŠé¡¹ç›®ä½¿ç”¨äº† **React, Vite, D3.js** ç­‰æŠ€æœ¯æ ˆã€‚

*   **4.2. å‘å¸ƒåˆ° Figma Community**
    *   [ ] è¿è¡Œ `npm run build` æ‰“åŒ…ç”Ÿäº§ç¯å¢ƒä»£ç ã€‚
    *   [ ] ä»”ç»†æ£€æŸ¥ `manifest.json`ï¼Œè®¾è®¡ä¸€ä¸ªå¸å¼•äººçš„æ’ä»¶å›¾æ ‡ã€‚
    *   [ ] éµå¾ªå®˜æ–¹æµç¨‹å‘å¸ƒæ’ä»¶ã€‚

*   **4.3. è¿­ä»£è·¯çº¿å›¾ (Iteration Roadmap in GitHub Issues)**
    *   [ ] åœ¨GitHubä»“åº“çš„ **Issues** ä¸­ï¼Œä¸ºæœªæ¥çš„æƒ³æ³•åˆ›å»ºæ ‡ç­¾ï¼Œå¦‚ `enhancement`, `new-feature`, `bug`ã€‚
    *   [ ] **v1.1**: æ·»åŠ æ›´å¤šè‡ªå®šä¹‰é€‰é¡¹ï¼ˆå­—ä½“ã€åœ†è§’ã€æ¸å˜ï¼‰ã€‚
    *   [ ] **v1.2**: å¢åŠ æ–°çš„å›¾è¡¨ç±»å‹ï¼ˆå¦‚æ—­æ—¥å›¾ã€å…³ç³»å›¾ï¼‰ã€‚
    *   [ ] **v2.0**: è¿æ¥å¤–éƒ¨æ•°æ®ï¼ˆGoogle Sheets / Airtable APIï¼‰ã€‚
    *   [ ] **`feat/3d-explore` åˆ†æ”¯**: åœ¨ä¸€ä¸ªç‹¬ç«‹çš„ç‰¹æ€§åˆ†æ”¯ä¸Šï¼Œå¼€å§‹æˆ‘ä»¬è®¨è®ºè¿‡çš„ `Three.js` + å›¾ç‰‡æ¸²æŸ“çš„3Då›¾è¡¨æ¢ç´¢ã€‚

---

### **ğŸ¯ å½“å‰è¿›åº¦æ€»ç»“**

**âœ… å·²å®Œæˆ (100%):**
- ç¬¬ä¸€é˜¶æ®µï¼šé¡¹ç›®å¯èˆª - å®Œå…¨å®Œæˆï¼
- React + Viteå¼€å‘ç¯å¢ƒæ­å»º
- TypeScripté…ç½®
- åŸºç¡€UIç»„ä»¶
- Figmaæ’ä»¶é›†æˆ
- å¼€å‘æœåŠ¡å™¨è¿è¡Œ

**ğŸ”„ ä¸‹ä¸€æ­¥ (å‡†å¤‡å¼€å§‹):**
- ç¬¬äºŒé˜¶æ®µï¼šMVPæ ¸å¿ƒåŠŸèƒ½å®ç°
- å¼€å§‹æ„å»ºæ¡‘åŸºå›¾ç”Ÿæˆå™¨çš„UIç»„ä»¶

è¿™ä¸ªå¤§çº²ç°åœ¨å®Œå…¨ä¸ºä½ å’Œä½ çš„æŠ€æœ¯æ ˆé‡èº«æ‰“é€ ã€‚ç¥ä½ ç¼–ç æ„‰å¿«ï¼Œäº«å—ä»0åˆ°1åˆ›é€ çš„æ•´ä¸ªè¿‡ç¨‹ï¼